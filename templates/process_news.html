<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Process News</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/process_news.css">
    <link rel="stylesheet" href="/static/css/chatbot.css">
    <script src="/static/js/chatbot.js"></script>
</head>
<body>
<nav class="navbar">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/process_news" class="active">Process News</a></li>
  </ul>
</nav>

<div class="content">
  <div class="panel">
    <h3>ðŸ“° Process News</h3>

    <form id="newsForm" onsubmit="runProcessNews(event)" class="simple-row">
        <div class="block">
            <label>Select Security:</label>
            <input type="text" id="searchInput" placeholder="Ticker or Name..." oninput="searchTicker()">
            <div id="searchResults" class="search-results"></div>
        </div>

        <div class="block btn-block">
            <button type="submit" class="green-btn" id="runBtn">
                <span class="btn-text">Download News</span>
                <div class="spinner"></div>  <!-- Este ahora sÃ­ usa el spinner PRO del main.css -->
            </button>
        </div>

        <input type="hidden" id="selectedSecurity" name="symbol">
    </form>



    <div id="outputBox" class="output-box"></div>
          <div style="margin-top:20px; display:flex; justify-content:center; gap:20px;">

    <a id="downloadPromptBtn"
       href="/process_news/download_prompt"
       class="green-btn"
       style="text-decoration:none;">
        Prompt
    </a>

    <a id="downloadBtn"
       href="/process_news/download_last"
       class="green-btn disabled-btn"
       style="text-decoration:none;">
        Download Last Report
    </a>

    <a id="ingestNewsBtn"
       href="#"
       class="green-btn disabled-btn"
       onclick="ingestNews(event)"
       style="text-decoration:none; position:relative;">
        <span class="btn-text">Ingest News</span>
        <div class="spinner"></div>
    </a>

</div>
    </div>
</div>

<script src="/static/js/process_news.js"></script>
{% include "chatbot_interface.html" %}
</body>
</html>
